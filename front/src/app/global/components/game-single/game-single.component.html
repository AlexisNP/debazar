<section>
    <div class="wrapper">
        <header>
            <h2>{{ game.name }}</h2>
        </header>
        <div class="game-body" *ngIf="!isLoading; else loading;">
            <article>
                <div class="inner">
                    <header>
                        <figure [ngStyle]="{'background-image': 'url(' + game.image + ')'}"></figure>
                        <div class="description">
                            <h3>Description</h3>
                            <p>{{ game.description }}</p>
                        </div>
                    </header>
                    <footer>
                        <div class="caracteristiques">
                            <h3>Caractéristiques</h3>
                            <ul>
                                <li>
                                    <p>
                                        <b>Catégories:</b>
                                        <span *ngFor="let c of game.categories; let i = index">{{ c.name }}<span *ngIf="(i < game.categories.length - 1)"> | </span> </span>
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        <b>Editeur:</b>
                                        {{ game.editor.name }}
                                    </p>
                                </li>
                                <li>
                                    <div class="rating">
                                        <b>Note des utilisateurs : </b>
                                        <ul class="rating-stars">
                                            <li *ngFor="let star of ratingStars(game.rating)">
                                                <span *ngIf="star; else emptyStar">
                                                    <fa-icon [icon]="fasStar"></fa-icon>
                                                </span>
                                                <ng-template #emptyStar>
                                                    <span>
                                                        <fa-icon [icon]="farStar"></fa-icon>
                                                    </span>
                                                </ng-template>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </footer>
                </div>
            </article>
        </div>
        <ng-template #loading>
            <div class="spinner-wrapper">
                <mat-spinner></mat-spinner>
            </div>
        </ng-template>
    </div>
    <footer>
        <a [href]="'/recherche/' + game.name" class="btn btn-primary">Voir les offres sur ce jeu</a>
    </footer>


    <app-footer></app-footer>
</section>